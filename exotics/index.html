<!DOCTYPE html>
<html>
<head>
<style>
.imageWrapper {
  position: relative;
}
.overlayImage {
  position: absolute;
  top: 0;
  left: 0;
  margin: auto;
}
table {
  text-align: left;
  border: 1px solid black;
}
th {
    width: 61px;
    height: 15px;
    border: 1px solid black;
    white-space:nowrap;
}
td {
    width: 61px;
    height: 76px;
    vertical-align: top;
    border: 1px solid black;
    white-space:nowrap;
}
.card {
 /*This is the actual background*/
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
  transition: 0.3s;
  width:600px;
  border-radius: 5px; 
  background: #000000;
  color: #FFFFFF;
}

.card:hover {
  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.6);
}

/* Add some padding inside the card container */
.container {
  padding: 2px 8px;
  width:550px;
  height: 72px;
}
img {
	padding: 6px;
	
}

</style>
</head>
<body onLoad="listEntries()">

<h2>JavaScript Testbed</h2>
<div class="card" id="card1" onClick="flipColor('card1')">
	<div class="imageWrapper"><img class="overlayImage" src="img/Console_-_Universal_-_Auxiliary_Ejection_Assembly_icon.png" alt="Icon" width="49" height="64"><img class="overlayImage" src="img/Epic_icon.png" alt="Rarity" width="49" height="64"></div>
		<div class="container">
			<p style="margin-left: 55px">This is a cool box</p>
		</div>
</div>
<br>
<div class="card" id="card2">
	<div class="imageWrapper"><img class="overlayImage" src="img/Console_-_Universal_-_Auxiliary_Ejection_Assembly_icon.png" alt="Icon" width="49" height="64"><img class="overlayImage" src="img/Epic_icon.png" alt="Rarity" width="49" height="64"></div>
		<div class="container">
			<p style="margin-left: 55px">This is a cool box</p>
		</div>
</div>
<br>
<button type="button"
onclick="listEntries()">
Click me to display random equipment</button>
<p id="demo"></p>
<script>
function flipColor(id) {
	if (S(id) == '#FFFFFF') {
	S(id, 'background', '777777');
	}
	else if (S(id) == '#777777') {
	S(id, 'background', '#FFFFFF');
	}
	else {
	S(id, 'background', '#FFFFFF');
	}
}
function listEntries() {
const rarity = {
COMMON: 1,
UNCOMMON: 2,
RARE: 3,
VERY_RARE: 4,
ULTRA_RARE: 5,
EPIC: 6
};
var rarityIcons = ["Common_icon.png", "Uncommon_icon.png", "Rare_icon.png", "Very_rare_icon.png", "Ultra_rare_icon.png", "Epic_icon.png"];
const stats = {
EPG: 0,//"Exotic Particle Generator",
Cat1_EXOTIC: 1,//"Cat1 Exotic Damage",
Cat2_EXOTIC: 2,//"Cat2 Exotic Damage",
CrtD_EXOTIC: 3,//"Critical Damage - Exotic",
CrtH_EXOTIC: 4,//"Critical Hit Chance - Exotic",
AUX_POWER: 5,//"Auxiliary Power",
MAX_AUX_POWER: 6,//"Auxiliary Power Capacity Increase"
};
const statScaling = {
FIXED: "Fixed",
MARK_ONLY: "Mark Only",
MARK_AND_RARITY: "Mark and Rarity"
};
var defaultMark = 15;
var equipmentList = [ ];
var maxStats = 2

equipmentList.push({name:"Console - Engineering - Conductive RCS Accelerator [EPG]",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Engineering_-_Conductive_RCS_Accelerator_icon.png",
stat1:stats.EPG,
stat1type:statScaling.MARK_AND_RARITY,
stat1value:1.875});

equipmentList.push({name:"Console - Science - Exotic Particle Field Exciter [EPG]",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Science_-_Exotic_Particle_Field_Exciter_icon.png",
stat1:stats.EPG,
stat1type:statScaling.MARK_AND_RARITY,
stat1value:3.75});

equipmentList.push({name:"Console - Science - Exotic Particle Field Exciter [not-EPG]",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Science_-_Exotic_Particle_Field_Exciter_icon.png",
stat1:stats.EPG,
stat1type:statScaling.MARK_AND_RARITY,
stat1value:1.875});

equipmentList.push({name:"Console - Science - Particle Generator",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Science_-_Particle_Generator_icon.png",
stat1:stats.EPG,
stat1type:statScaling.MARK_AND_RARITY,
stat1value:1.875});

equipmentList.push({name:"Console - Science - Shield Refrequencer [EPG]",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Science_-_Shield_Refrequencer_icon.png",
stat1:stats.EPG,
stat1type:statScaling.MARK_AND_RARITY,
stat1value:1.25});

equipmentList.push({name:"Console - Science - Threat Scaling Console",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Science_-_Plasma-Generating_Weapon_Signature_Amplifier_icon.png",
stat1:stats.EPG,
stat1type:statScaling.MARK_AND_RARITY,
stat1value:1.875});

equipmentList.push({name:"Console - Science - Exotic Particle Focuser [EPG Primary]",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Science_-_Exotic_Particle_Focuser_icon.png",
stat1:stats.EPG,
stat1type:statScaling.MARK_AND_RARITY,
stat1value:1.875,
stat2:stats.Cat1_EXOTIC,
stat2type:statScaling.FIXED,
stat2value:0.3});

equipmentList.push({name:"Console - Science - Exotic Particle Focuser [EPG Secondary]",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Science_-_Exotic_Particle_Focuser_icon.png",
stat1:stats.EPG,
stat1type:statScaling.MARK_AND_RARITY,
stat1value:1.25,
stat2:stats.Cat1_EXOTIC,
stat2type:statScaling.FIXED,
stat2value:0.3});

equipmentList.push({name:"Console - Science - Temporally Shielded Datacore",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Science_-_Temporally_Shielded_Datacore_icon.png",
stat1:stats.EPG,
stat1type:statScaling.MARK_AND_RARITY,
stat1value:1.25});

equipmentList.push({name:"Console - Tactical - Chronometric Capacitor",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Tactical_-_Chronometric_Capacitor_icon.png",
stat1:stats.EPG,
stat1type:statScaling.MARK_AND_RARITY,
stat1value:1.875});

equipmentList.push({name:"Console - Universal - Auxiliary Ejection Assembly",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Universal_-_Auxiliary_Ejection_Assembly_icon.png",
stat1:stats.Cat2_EXOTIC,
stat1type:statScaling.FIXED,
stat1value:0.178});

equipmentList.push({name:"Console - Universal - Disruption Pulse Emitter",
mark:defaultMark,
rarity:rarity.EPIC,
icon:"Console_-_Universal_-_Disruption_Pulse_Emitter_icon.png",
stat1:stats.EPG,
stat1type:statScaling.FIXED,
stat1value:0.20});

var len = equipmentList.length;

for (var bloop = 0; bloop < len; bloop++) {
equipmentList[bloop].rarity = Math.floor(Math.random() * 6) + 1;
}

var totalStats=[0,0,0,0,0,0,0,0,0];
var messageData = "<table><tr><th>Icon</th><th>Info</th></tr>";
for (var x = 0; x < len; x++) {
switch(equipmentList[x].stat1type) {
case statScaling.MARK_AND_RARITY:
totalStats[equipmentList[x].stat1] += equipmentList[x].stat1value * (equipmentList[x].rarity + equipmentList[x].mark);
break;
case statScaling.MARK_ONLY:
totalStats[equipmentList[x].stat1] += equipmentList[x].stat1value * (1 + equipmentList[x].mark);
break;
case statScaling.FIXED:
totalStats[equipmentList[x].stat1] += equipmentList[x].stat1value;
break;
default:
}
switch(equipmentList[x].stat2type) {
case statScaling.MARK_AND_RARITY:
totalStats[equipmentList[x].stat2] += equipmentList[x].stat2value * (equipmentList[x].rarity + equipmentList[x].mark);
break;
case statScaling.MARK_ONLY:
totalStats[equipmentList[x].stat2] += equipmentList[x].stat2value * (1 + equipmentList[x].mark);
break;
case statScaling.FIXED:
totalStats[equipmentList[x].stat2] += equipmentList[x].stat2value;
break;
default:
}
messageData += '<tr><td><div class="imageWrapper"><img class="overlayImage" src="img/'
if (equipmentList[x].icon != undefined) {
messageData += equipmentList[x].icon;
}
else
{
messageData += "Common_icon.png";
}

messageData += '" alt="Icon" width="49" height="64"><img class="overlayImage" src="img/' +
rarityIcons[equipmentList[x].rarity-1] +
'" alt="Rarity" width="49" height="64"></div></td><td>';
messageData += equipmentList[x].name + 
//'<input type="checkbox" name="item' + x + '" value="selItem' + x + '">' +
'</td></tr>';

}
messageData += '</table>' + "EPG: " + totalStats[0] +
"<br>Cat1: " + totalStats[1] + 
"<br>Cat2: " + totalStats[2];
document.getElementById('demo').innerHTML = messageData;
//document.getElementById('demo').innerHTML = rarityIcons[equipmentList[0].rarity];
//var cBox = document.createElement("INPUT");
//cBox.setAttribute("type", "checkbox");
//document.body.appendChild(cBox);
}
function O(id, property, value)
{
	if (id instanceof Array)
	{
		var tmp = []
		for (var j = 0 ; j < id.length ; ++j)
			tmp.push(O(id[j], property, value))
		return tmp
	}
	if (typeof property != UNDEF && typeof value != UNDEF)
	{
		if (typeof value == 'string') value = "'" + value + "'"
		return eval("O('" + id + "')." + property + " = " + value)
	}
	if (typeof id == 'object') return id
	else
	{
		try { return document.getElementById(id) }
		catch(e) { alert('JavaScript Plug-in - Unknown ID: ' + id) }
	}
}
function S(id, property, value)
{
	if (id instanceof Array)
	{
		var tmp = []
		for (var j = 0 ; j < id.length ; ++j)
			tmp.push(S(id[j], property, value))
		return tmp
	}
	if (typeof property != UNDEF && typeof value != UNDEF)
	{
		try { return O(id).style[property] = value }
		catch(e) { alert('JavaScript Plug-in - Unknown ID: ' + id) }
	}
	else if (typeof id == 'object') return id.style
	else
	{
		try { return O(id).style }
		catch(e) { alert('JavaScript Plug-in - Unknown ID: ' + id) }
	}
}
</script>

</body>
</html>

